import{u as x,a as Q,b as K,Q as S}from"./QTabs.4d95e7be.js";import{g as F,ai as T,aj as A,j as C,k as f,l as g,m as I,_ as L,d as B,at as J,o,c as v,w as u,b as i,e as l,av as y,an as p,am as b,b8 as $,b7 as m,ax as P,as as w,bc as N,Q as M,R as _,ay as D}from"./index.8d6b7e74.js";import{Q as k}from"./QSkeleton.84343ffa.js";import{Q as q}from"./QBadge.a7eadf23.js";import{Q as V}from"./QPageContainer.90b95ab6.js";import{Q as j}from"./QPage.9e9ce1aa.js";import{g as z}from"./api.9c7ff840.js";import"./QResizeObserver.efbfba28.js";import"./rtl.b51694b1.js";var O=F({name:"QTab",props:x,emits:Q,setup(t,{slots:e,emit:s}){const{renderTab:n}=K(t,e,s);return()=>n("div")}}),E=F({name:"QBanner",props:{...T,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(t,{slots:e}){const{proxy:{$q:s}}=I(),n=A(t,s),d=C(()=>"q-banner row items-center"+(t.dense===!0?" q-banner--dense":"")+(n.value===!0?" q-banner--dark q-dark":"")+(t.rounded===!0?" rounded-borders":"")),r=C(()=>`q-banner__actions row items-center justify-end col-${t.inlineActions===!0?"auto":"all"}`);return()=>{const a=[f("div",{class:"q-banner__avatar col-auto row items-center self-start"},g(e.avatar)),f("div",{class:"q-banner__content col text-body2"},g(e.default))],c=g(e.action);return c!==void 0&&a.push(f("div",{class:r.value},c)),f("div",{class:d.value+(t.inlineActions===!1&&c!==void 0?" q-banner--top-padding":""),role:"alert"},a)}}});const G=B({name:"SchedulePage",data(){const t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],e=new Date().getDay(),s=t[e];return{width:J.width,height:J.height,days:[{key:"sunday",label:"SUN"},{key:"monday",label:"MON"},{key:"tuesday",label:"TUE"},{key:"wednesday",label:"WED"},{key:"thursday",label:"THU"},{key:"friday",label:"FRI"},{key:"saturday",label:"SAT"}],dayKey:s,schedule:{sunday:[{time:"11:00-12:00",title:"Private",coach:"Prof. Jesse",level:"Private"},{time:"13:00-14:00",title:"Kids Class",coach:"Prof. Jesse",level:"Kids"},{time:"14:00-16:00",title:"Competition Class",coach:"Prof. Jesse",level:"Competition"},{time:"17:00-18:00",title:"Open Mat",coach:"Prof. Jesse",level:"Open Mat"}],monday:[{time:"12:00-13:00",title:"Fundamental Class",coach:"Prof. Jesse",level:"Fundamental"},{time:"14:00-15:00",title:"Private",coach:"Prof. Jesse",level:"Private"},{time:"15:00-16:00",title:"Private",coach:"Prof. Jesse",level:"Private"},{time:"19:30-21:00",title:"Intermediate Class",coach:"Prof. Jesse",level:"Intermediate"}],tuesday:[{time:"12:00-13:00",title:"Fundamental Class",coach:"Prof. Jesse",level:"Fundamental"},{time:"14:00-15:00",title:"Private",coach:"Prof. Jesse",level:"Private"},{time:"17:00-18:00",title:"Kids Class",coach:"Prof. Jesse",level:"Kids"},{time:"18:00-19:00",title:"Fundamental Class",coach:"Prof. Jesse",level:"Fundamental"},{time:"19:30-21:00",title:"Intermediate Class",coach:"Prof. Jesse",level:"Intermediate"}],wednesday:[{time:"12:00-13:00",title:"Fundamental Class",coach:"Prof. Jesse",level:"Fundamental"},{time:"14:00-15:00",title:"Private",coach:"Prof. Jesse",level:"Private"},{time:"15:00-16:00",title:"Private",coach:"Prof. Jesse",level:"Private"},{time:"19:30-21:00",title:"Competition Class",coach:"Prof. Jesse",level:"Competition"}],thursday:[{time:"12:00-13:00",title:"Fundamental Class",coach:"Prof. Jesse",level:"Fundamental"},{time:"14:00-15:00",title:"Private",coach:"Prof. Jesse",level:"Private"},{time:"17:00-18:00",title:"Kids Class",coach:"Prof. Jesse",level:"Kids"},{time:"18:00-19:00",title:"Fundamental Class",coach:"Prof. Jesse",level:"Fundamental"},{time:"19:30-21:00",title:"Intermediate Class",coach:"Prof. Jesse",level:"Intermediate"}],friday:[{time:"12:00-13:00",title:"Fundamental Class",coach:"Prof. Jesse",level:"Fundamental"},{time:"14:00-15:00",title:"Private",coach:"Prof. Jesse",level:"Private"},{time:"15:00-16:00",title:"Private",coach:"Prof. Jesse",level:"Private"},{time:"18:00-19:00",title:"No-Gi All Level",coach:"Prof. Jesse",level:"No-Gi"},{time:"19:30-21:00",title:"Competition Class",coach:"Prof. Jesse",level:"Competition"}],saturday:[{time:"11:00-12:00",title:"Kids Class",coach:"Prof. Jesse",level:"Kids"},{time:"13:00-15:00",title:"All Level Gi",coach:"Prof. Jesse",level:"All Level"},{time:"16:00-17:00",title:"Open Mat",coach:"Prof. Jesse",level:"Open Mat"}]},is_loading:!1,avatarCache:{}}},computed:{activeClasses(){return(this.schedule[this.dayKey]||[]).map((e,s)=>{var r,a,c,h;const n=((r=e.class)==null?void 0:r.name)||e.title||"Class",d=((c=(a=e.time)==null?void 0:a.substring)==null?void 0:c.call(a,0,5))||e.time||"--:--";return{id:e.id||s,title:n,coach:"Prof. Jesse",time:d,level:e.level||((h=e.class)==null?void 0:h.level)||this.guessLevel(n),attendees:this.attendeesFor(`${n}-${d}-${this.dayKey}`)}})},activeLabel(){const t=this.days.find(s=>s.key===this.dayKey);return{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}[this.dayKey]||(t==null?void 0:t.label)||""}},methods:{async apiGetClassSchedule(){try{this.is_loading=!0;const t=await z(),e=(t==null?void 0:t.data)||{};this.schedule={monday:e.monday||[],tuesday:e.tuesday||[],wednesday:e.wednesday||[],thursday:e.thursday||[],friday:e.friday||[],saturday:e.saturday||[],sunday:e.sunday||[]}}finally{this.is_loading=!1}},levelColor(t=""){const e=String(t).toLowerCase();return e.includes("beginner")?{bg:"green-1",fg:"green-8"}:e.includes("advanced")?{bg:"red-1",fg:"red-7"}:e.includes("intermediate")?{bg:"orange-1",fg:"orange-8"}:{bg:"grey-2",fg:"grey-8"}},guessLevel(t=""){const e=t.toLowerCase();return e.includes("kids")?"Beginner":e.includes("intermediate")?"Intermediate":e.includes("competition")?"Advanced":e.includes("private")?"Private":e.includes("nogi")?"All Level":"Fundamental"},attendeesFor(t){if(this.avatarCache[t])return this.avatarCache[t];let e=2166136261;for(let r=0;r<t.length;r++)e^=t.charCodeAt(r),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);const s=()=>(e=e*1664525+1013904223>>>0)/2**32,n=2+Math.floor(s()*8),d=Array.from({length:n},()=>{const r=s()<.5?"men":"women",a=Math.floor(s()*90)+1;return`https://randomuser.me/api/portraits/${r}/${a}.jpg`});return this.avatarCache[t]=d,d}},mounted(){}}),U={class:"q-pa-md"},R={class:"text-subtitle1 text-weight-bold q-mb-md"},W={key:0,class:"q-gutter-md"},H={key:1,class:"q-gutter-md"},X={class:"row items-start justify-between"},Y={class:"col"},Z={class:"text-subtitle1 text-weight-bold"},ee={class:"row items-center text-grey-8 q-mt-xs"},te={class:"q-mr-md"},ae={class:"row items-center q-mt-sm"},se={class:"avatar-stack"},le=["src"],re={class:"col-auto column items-end"};function oe(t,e,s,n,d,r){return o(),v(j,{class:"bg-grey-1"},{default:u(()=>[i(V,null,{default:u(()=>[l("div",U,[i(S,{modelValue:t.dayKey,"onUpdate:modelValue":e[0]||(e[0]=a=>t.dayKey=a),align:"left",dense:"","narrow-indicator":"","indicator-color":"transparent",class:"q-gutter-sm","outside-arrows":"","mobile-arrows":""},{default:u(()=>[(o(!0),y(b,null,p(t.days,a=>(o(),v(O,{key:a.key,name:a.key,label:a.label,class:N(["day-pill",{"day-pill--active":t.dayKey===a.key}])},null,8,["name","label","class"]))),128))]),_:1},8,["modelValue"]),i($,{spaced:""}),l("div",R,m(t.activeLabel)+" Classes ",1),t.is_loading?(o(),y("div",W,[i(k,{type:"rect",height:"92px",class:"rounded-borders"}),i(k,{type:"rect",height:"92px",class:"rounded-borders"})])):(o(),y("div",H,[(o(!0),y(b,null,p(t.activeClasses,a=>(o(),v(M,{key:a.id||a.title+a.time,flat:"",bordered:"",class:"q-pa-md rounded-borders"},{default:u(()=>[l("div",X,[l("div",Y,[l("div",Z,m(a.title),1),l("div",ee,[i(_,{name:"schedule",size:"16px",class:"q-mr-xs"}),l("span",te,m(a.time),1),i(_,{name:"person_outline",size:"16px",class:"q-mr-xs"}),l("span",null,m(a.coach),1)]),l("div",ae,[l("div",se,[(o(!0),y(b,null,p(a.attendees.slice(0,5),(c,h)=>(o(),v(D,{key:h,size:"26px",class:"avatar-chip"},{default:u(()=>[l("img",{src:c,loading:"lazy"},null,8,le)]),_:2},1024))),128)),a.attendees.length>5?(o(),v(q,{key:0,color:"grey-3","text-color":"grey-8",class:"q-ml-xs",rounded:""},{default:u(()=>[P(" +"+m(a.attendees.length-5),1)]),_:2},1024)):w("",!0)])])]),l("div",re,[i(q,{color:t.levelColor(a.level).bg,"text-color":t.levelColor(a.level).fg,class:"q-px-md q-py-xs q-mb-sm",rounded:""},{default:u(()=>[P(m(a.level),1)]),_:2},1032,["color","text-color"]),i(_,{name:"chevron_right",color:"grey-6"})])])]),_:2},1024))),128)),t.activeClasses.length===0?(o(),v(E,{key:0,class:"bg-grey-2 text-grey-8 rounded-borders"},{default:u(()=>[P(" No classes for "+m(t.activeLabel)+". ",1)]),_:1})):w("",!0)]))])]),_:1})]),_:1})}var fe=L(G,[["render",oe],["__scopeId","data-v-97e063da"]]);export{fe as default};
