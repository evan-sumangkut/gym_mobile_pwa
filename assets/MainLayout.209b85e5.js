import{Q as P,a as B}from"./QLayout.66994f39.js";import{g as L,aG as S,aH as q,j as s,s as c,i as M,h as g,r as b,B as O,u as j,F as D,k as y,m as I,n as K,_ as N,d as A,S as Q,P as E,a as G,o as U,c as J,w as m,b as i,K as W}from"./index.79d932fe.js";import{u as X,a as Y,b as Z,Q as ee}from"./QTabs.0ee981a4.js";import{Q as te}from"./QResizeObserver.a71c37df.js";import"./rtl.b51694b1.js";var _=L({name:"QRouteTab",props:{...S,...X},emits:Y,setup(a,{slots:v,emit:f}){const n=q({useDisableForRouterLinkProps:!1}),{renderTab:t,$tabs:r}=Z(a,v,f,{exact:s(()=>a.exact),...n});return c(()=>`${a.name} | ${a.exact} | ${(n.resolvedLink.value||{}).href}`,()=>{r.verifyRouteModel()}),()=>t(n.linkTag.value,n.linkAttrs.value)}}),ae=L({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(a,{slots:v,emit:f}){const{proxy:{$q:n}}=I(),t=M(K,g);if(t===g)return console.error("QFooter needs to be child of QLayout"),g;const r=b(parseInt(a.heightHint,10)),u=b(!0),p=b(O.value===!0||t.isContainer.value===!0?0:window.innerHeight),h=s(()=>a.reveal===!0||t.view.value.indexOf("F")>-1||n.platform.is.ios&&t.isContainer.value===!0),w=s(()=>t.isContainer.value===!0?t.containerHeight.value:p.value),x=s(()=>{if(a.modelValue!==!0)return 0;if(h.value===!0)return u.value===!0?r.value:0;const e=t.scroll.value.position+w.value+r.value-t.height.value;return e>0?e:0}),k=s(()=>a.modelValue!==!0||h.value===!0&&u.value!==!0),R=s(()=>a.modelValue===!0&&k.value===!0&&a.reveal===!0),C=s(()=>"q-footer q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-bottom"+(a.bordered===!0?" q-footer--bordered":"")+(k.value===!0?" q-footer--hidden":"")+(a.modelValue!==!0?" q-layout--prevent-focus"+(h.value!==!0?" hidden":""):"")),F=s(()=>{const e=t.rows.value.bottom,o={};return e[0]==="l"&&t.left.space===!0&&(o[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),e[2]==="r"&&t.right.space===!0&&(o[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),o});function l(e,o){t.update("footer",e,o)}function d(e,o){e.value!==o&&(e.value=o)}function T({height:e}){d(r,e),l("size",e)}function V(){if(a.reveal!==!0)return;const{direction:e,position:o,inflectionPoint:H}=t.scroll.value;d(u,e==="up"||o-H<100||t.height.value-w.value-o-r.value<300)}function z(e){R.value===!0&&d(u,!0),f("focusin",e)}c(()=>a.modelValue,e=>{l("space",e),d(u,!0),t.animate()}),c(x,e=>{l("offset",e)}),c(()=>a.reveal,e=>{e===!1&&d(u,a.modelValue)}),c(u,e=>{t.animate(),f("reveal",e)}),c([r,t.scroll,t.height],V),c(()=>n.screen.height,e=>{t.isContainer.value!==!0&&d(p,e)});const $={};return t.instances.footer=$,a.modelValue===!0&&l("size",r.value),l("space",a.modelValue),l("offset",x.value),j(()=>{t.instances.footer===$&&(t.instances.footer=void 0,l("size",0),l("offset",0),l("space",!1))}),()=>{const e=D(v.default,[y(te,{debounce:0,onResize:T})]);return a.elevated===!0&&e.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),y("footer",{class:C.value,style:F.value,onFocusin:z},e)}}});const oe=A({name:"MainLayout",data(){return{width:Q.width,height:Q.height}},components:{},setup(){},methods:{checkToken(){E.has("token")||this.$router.push({name:"login"})}},mounted(){this.checkToken()}});function ne(a,v,f,n,t,r){const u=G("router-view");return U(),J(P,{view:"lHh Lpr lFf"},{default:m(()=>[i(B,null,{default:m(()=>[i(u)]),_:1}),i(ae,null,{default:m(()=>[i(ee,{"indicator-color":"white",class:"text-white shadow-2",style:W([{"background-color":"#7e1c27"},`height:${this.height/10}px`])},{default:m(()=>[i(_,{name:"profile",icon:"account_circle",label:"Profile",to:"/profile",exact:""}),i(_,{name:"camera",icon:"camera",label:"Scan",to:"/scan",exact:""}),i(_,{name:"schedule",icon:"calendar_month",label:"Schedule",to:"/schedule",exact:""})]),_:1},8,["style"])]),_:1})]),_:1})}var ce=N(oe,[["render",ne]]);export{ce as default};
