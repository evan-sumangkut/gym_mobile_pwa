import{g as ne,V as it,W as Ft,X as Mt,Y as Pt,Z as Bt,$ as ul,a0 as Ot,a1 as rl,j as v,a2 as Tt,m as _e,k as f,M as Q,a3 as sl,a4 as Lt,a5 as fe,v as cl,r as F,s as Ce,G as le,a6 as dl,a7 as fl,a8 as vl,a9 as ml,u as ut,aa as pl,ab as gl,ac as Ct,ad as Me,ae as hl,af as Sl,ag as Je,ah as yl,ai as we,aj as bl,ak as wl,al as Rt,F as Et,am as Cl,I as Dt,i as Vl,h as Ze,an as Ht,ao as _l,l as Ue,p as ql,_ as kl,d as xl,S as Vt,U as et,ap as Al,a as Il,o as Z,c as _t,w as T,e as U,J as ce,b as A,N as qt,O as Ne,aq as tt,K as zl,R as lt,L as de,ar as Fl,Q as Ml,f as Pl}from"./index.b1336f01.js";import{Q as Bl}from"./QItem.6af1cb50.js";import{Q as Ol}from"./QItemSection.3bd41491.js";import{Q as Tl}from"./QItemLabel.c1860f71.js";import{n as kt,Q as Ll,u as Rl}from"./use-cache.47205fa9.js";import{r as ot}from"./rtl.b51694b1.js";import{u as El,a as Dl,b as Hl,c as $l,f as Nl}from"./style.49d89785.js";import{Q as Ul}from"./QPage.abd04bae.js";import{S as Ql}from"./Scroll.98802492.js";import{a as jl,b as Kl}from"./api.6dc64835.js";var Wl=ne({name:"QField",inheritAttrs:!1,props:{...it,tag:{type:String,default:"label"}},emits:Ft,setup(){return Mt(Pt({requiredForAttr:!1,tagProp:!0}))}});const Yl={xs:8,sm:10,md:14,lg:20,xl:24};var Xl=ne({name:"QChip",props:{...Bt,...ul,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:u}){const{proxy:{$q:m}}=_e(),g=Ot(e,m),i=rl(e,Yl),C=v(()=>e.selected===!0||e.icon!==void 0),o=v(()=>e.selected===!0?e.iconSelected||m.iconSet.chip.selected:e.icon),p=v(()=>e.iconRemove||m.iconSet.chip.remove),k=v(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=v(()=>{const a=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(a?` text-${a} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(k.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(g.value===!0?" q-chip--dark q-dark":"")}),h=v(()=>{const a=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},y={...a,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||m.lang.label.remove};return{chip:a,remove:y}});function w(a){a.keyCode===13&&x(a)}function x(a){e.disable||(u("update:selected",!e.selected),u("click",a))}function z(a){(a.keyCode===void 0||a.keyCode===13)&&(fe(a),e.disable===!1&&(u("update:modelValue",!1),u("remove")))}function S(){const a=[];k.value===!0&&a.push(f("div",{class:"q-focus-helper"})),C.value===!0&&a.push(f(Q,{class:"q-chip__icon q-chip__icon--left",name:o.value}));const y=e.label!==void 0?[f("div",{class:"ellipsis"},[e.label])]:void 0;return a.push(f("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},sl(l.default,y))),e.iconRight&&a.push(f(Q,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&a.push(f(Q,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:p.value,...h.value.remove,onClick:z,onKeyup:z})),a}return()=>{if(e.modelValue===!1)return;const a={class:d.value,style:i.value};return k.value===!0&&Object.assign(a,h.value.chip,{onClick:x,onKeyup:w}),Tt("div",a,S(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Lt,e.ripple]])}}});const Y=1e3,Gl=["start","center","end","start-force","center-force","end-force"],$t=Array.prototype.filter,Jl=window.getComputedStyle(document.body).overflowAnchor===void 0?cl:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const u=e.children||[];$t.call(u,g=>g.dataset&&g.dataset.qVsAnchor!==void 0).forEach(g=>{delete g.dataset.qVsAnchor});const m=u[l];m&&m.dataset&&(m.dataset.qVsAnchor="")}))};function Ve(e,l){return e+l}function nt(e,l,u,m,g,i,C,o){const p=e===window?document.scrollingElement||document.documentElement:e,k=g===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-C-o,scrollMaxSize:0,offsetStart:-C,offsetEnd:-o};if(g===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=p.scrollLeft,d.scrollViewSize+=p.clientWidth),d.scrollMaxSize=p.scrollWidth,i===!0&&(d.scrollStart=(ot===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=p.scrollTop,d.scrollViewSize+=p.clientHeight),d.scrollMaxSize=p.scrollHeight),u!==null)for(let h=u.previousElementSibling;h!==null;h=h.previousElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=h[k]);if(m!==null)for(let h=m.nextElementSibling;h!==null;h=h.nextElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=h[k]);if(l!==e){const h=p.getBoundingClientRect(),w=l.getBoundingClientRect();g===!0?(d.offsetStart+=w.left-h.left,d.offsetEnd-=w.width):(d.offsetStart+=w.top-h.top,d.offsetEnd-=w.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function xt(e,l,u,m){l==="end"&&(l=(e===window?document.body:e)[u===!0?"scrollWidth":"scrollHeight"]),e===window?u===!0?(m===!0&&(l=(ot===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):u===!0?(m===!0&&(l=(ot===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Pe(e,l,u,m){if(u>=m)return 0;const g=l.length,i=Math.floor(u/Y),C=Math.floor((m-1)/Y)+1;let o=e.slice(i,C).reduce(Ve,0);return u%Y!==0&&(o-=l.slice(i*Y,u).reduce(Ve,0)),m%Y!==0&&m!==g&&(o-=l.slice(m,C*Y).reduce(Ve,0)),o}const Zl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},en={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Zl};function tn({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:u,virtualScrollItemSizeComputed:m}){const g=_e(),{props:i,emit:C,proxy:o}=g,{$q:p}=o;let k,d,h,w=[],x;const z=F(0),S=F(0),a=F({}),y=F(null),O=F(null),N=F(null),R=F({from:0,to:0}),Be=v(()=>i.tableColspan!==void 0?i.tableColspan:100);m===void 0&&(m=v(()=>i.virtualScrollItemSize));const E=v(()=>m.value+";"+i.virtualScrollHorizontal),ee=v(()=>E.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);Ce(ee,()=>{X()}),Ce(E,ae);function ae(){ve(d,!0)}function qe(n){ve(n===void 0?d:n)}function oe(n,c){const V=l();if(V==null||V.nodeType===8)return;const B=nt(V,u(),y.value,O.value,i.virtualScrollHorizontal,p.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);h!==B.scrollViewSize&&X(B.scrollViewSize),j(V,B,Math.min(e.value-1,Math.max(0,parseInt(n,10)||0)),0,Gl.indexOf(c)>-1?c:d>-1&&n>d?"end":"start")}function Oe(){const n=l();if(n==null||n.nodeType===8)return;const c=nt(n,u(),y.value,O.value,i.virtualScrollHorizontal,p.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),V=e.value-1,B=c.scrollMaxSize-c.offsetStart-c.offsetEnd-S.value;if(k===c.scrollStart)return;if(c.scrollMaxSize<=0){j(n,c,0,0);return}h!==c.scrollViewSize&&X(c.scrollViewSize),ke(R.value.from);const D=Math.floor(c.scrollMaxSize-Math.max(c.scrollViewSize,c.offsetEnd)-Math.min(x[V],c.scrollViewSize/2));if(D>0&&Math.ceil(c.scrollStart)>=D){j(n,c,V,c.scrollMaxSize-c.offsetEnd-w.reduce(Ve,0));return}let I=0,q=c.scrollStart-c.offsetStart,H=q;if(q<=B&&q+c.scrollViewSize>=z.value)q-=z.value,I=R.value.from,H=q;else for(let _=0;q>=w[_]&&I<V;_++)q-=w[_],I+=Y;for(;q>0&&I<V;)q-=x[I],q>-c.scrollViewSize?(I++,H=q):H=x[I]+q;j(n,c,I,H)}function j(n,c,V,B,D){const I=typeof D=="string"&&D.indexOf("-force")>-1,q=I===!0?D.replace("-force",""):D,H=q!==void 0?q:"start";let _=Math.max(0,V-a.value[H]),K=_+a.value.total;K>e.value&&(K=e.value,_=Math.max(0,K-a.value.total)),k=c.scrollStart;const te=_!==R.value.from||K!==R.value.to;if(te===!1&&q===void 0){xe(V);return}const{activeElement:Le}=document,G=N.value;te===!0&&G!==null&&G!==Le&&G.contains(Le)===!0&&(G.addEventListener("focusout",Te),setTimeout(()=>{G!==null&&G.removeEventListener("focusout",Te)})),Jl(G,V-_);const Re=q!==void 0?x.slice(_,V).reduce(Ve,0):0;if(te===!0){const ie=K>=R.value.from&&_<=R.value.to?R.value.to:K;R.value={from:_,to:ie},z.value=Pe(w,x,0,_),S.value=Pe(w,x,K,e.value),requestAnimationFrame(()=>{R.value.to!==K&&k===c.scrollStart&&(R.value={from:R.value.from,to:K},S.value=Pe(w,x,K,e.value))})}requestAnimationFrame(()=>{if(k!==c.scrollStart)return;te===!0&&ke(_);const ie=x.slice(_,V).reduce(Ve,0),ue=ie+c.offsetStart+z.value,Ee=ue+x[V];let Ie=ue+B;if(q!==void 0){const je=ie-Re,ze=c.scrollStart+je;Ie=I!==!0&&ze<ue&&Ee<ze+c.scrollViewSize?ze:q==="end"?Ee-c.scrollViewSize:ue-(q==="start"?0:Math.round((c.scrollViewSize-x[V])/2))}k=Ie,xt(n,Ie,i.virtualScrollHorizontal,p.lang.rtl),xe(V)})}function ke(n){const c=N.value;if(c){const V=$t.call(c.children,_=>_.classList&&_.classList.contains("q-virtual-scroll--skip")===!1),B=V.length,D=i.virtualScrollHorizontal===!0?_=>_.getBoundingClientRect().width:_=>_.offsetHeight;let I=n,q,H;for(let _=0;_<B;){for(q=D(V[_]),_++;_<B&&V[_].classList.contains("q-virtual-scroll--with-prev")===!0;)q+=D(V[_]),_++;H=q-x[I],H!==0&&(x[I]+=H,w[Math.floor(I/Y)]+=H),I++}}}function Te(){N.value!==null&&N.value!==void 0&&N.value.focus()}function ve(n,c){const V=1*m.value;(c===!0||Array.isArray(x)===!1)&&(x=[]);const B=x.length;x.length=e.value;for(let I=e.value-1;I>=B;I--)x[I]=V;const D=Math.floor((e.value-1)/Y);w=[];for(let I=0;I<=D;I++){let q=0;const H=Math.min((I+1)*Y,e.value);for(let _=I*Y;_<H;_++)q+=x[_];w.push(q)}d=-1,k=void 0,z.value=Pe(w,x,0,R.value.from),S.value=Pe(w,x,R.value.to,e.value),n>=0?(ke(R.value.from),le(()=>{oe(n)})):me()}function X(n){if(n===void 0&&typeof window!="undefined"){const q=l();q!=null&&q.nodeType!==8&&(n=nt(q,u(),y.value,O.value,i.virtualScrollHorizontal,p.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}h=n;const c=parseFloat(i.virtualScrollSliceRatioBefore)||0,V=parseFloat(i.virtualScrollSliceRatioAfter)||0,B=1+c+V,D=n===void 0||n<=0?1:Math.ceil(n/m.value),I=Math.max(1,D,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/B));a.value={total:Math.ceil(I*B),start:Math.ceil(I*c),center:Math.ceil(I*(.5+c)),end:Math.ceil(I*(1+c)),view:D}}function Qe(n,c){const V=i.virtualScrollHorizontal===!0?"width":"height",B={["--q-virtual-scroll-item-"+V]:m.value+"px"};return[n==="tbody"?f(n,{class:"q-virtual-scroll__padding",key:"before",ref:y},[f("tr",[f("td",{style:{[V]:`${z.value}px`,...B},colspan:Be.value})])]):f(n,{class:"q-virtual-scroll__padding",key:"before",ref:y,style:{[V]:`${z.value}px`,...B}}),f(n,{class:"q-virtual-scroll__content",key:"content",ref:N,tabindex:-1},c.flat()),n==="tbody"?f(n,{class:"q-virtual-scroll__padding",key:"after",ref:O},[f("tr",[f("td",{style:{[V]:`${S.value}px`,...B},colspan:Be.value})])]):f(n,{class:"q-virtual-scroll__padding",key:"after",ref:O,style:{[V]:`${S.value}px`,...B}})]}function xe(n){d!==n&&(i.onVirtualScroll!==void 0&&C("virtualScroll",{index:n,from:R.value.from,to:R.value.to-1,direction:n<d?"decrease":"increase",ref:o}),d=n)}X();const me=dl(Oe,p.platform.is.ios===!0?120:35);fl(()=>{X()});let Ae=!1;return vl(()=>{Ae=!0}),ml(()=>{if(Ae!==!0)return;const n=l();k!==void 0&&n!==void 0&&n!==null&&n.nodeType!==8?xt(n,k,i.virtualScrollHorizontal,p.lang.rtl):oe(d)}),ut(()=>{me.cancel()}),Object.assign(o,{scrollTo:oe,reset:ae,refresh:qe}),{virtualScrollSliceRange:R,virtualScrollSliceSizeComputed:a,setVirtualScrollSize:X,onVirtualScrollEvt:me,localResetVirtualScroll:ve,padVirtualScroll:Qe,scrollTo:oe,reset:ae,refresh:qe}}const At=e=>["add","add-unique","toggle"].includes(e),ln=".*+?^${}()|[]\\",nn=Object.keys(it);var It=ne({name:"QSelect",inheritAttrs:!1,props:{...en,...pl,...it,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:At},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Ft,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:u}){const{proxy:m}=_e(),{$q:g}=m,i=F(!1),C=F(!1),o=F(-1),p=F(""),k=F(!1),d=F(!1);let h=null,w=null,x,z,S,a=null,y,O,N,R;const Be=F(null),E=F(null),ee=F(null),ae=F(null),qe=F(null),oe=gl(e),Oe=yl(ht),j=v(()=>Array.isArray(e.options)?e.options.length:0),ke=v(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Te,virtualScrollSliceSizeComputed:ve,localResetVirtualScroll:X,padVirtualScroll:Qe,onVirtualScrollEvt:xe,scrollTo:me,setVirtualScrollSize:Ae}=tn({virtualScrollLength:j,getVirtualScrollTarget:Wt,getVirtualScrollEl:pt,virtualScrollItemSizeComputed:ke}),n=Pt(),c=v(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,s=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const r=e.mapOptions===!0&&x!==void 0?x:[],b=s.map(P=>Kt(P,r));return e.modelValue===null&&t===!0?b.filter(P=>P!==null):b}return s}),V=v(()=>{const t={};return nn.forEach(s=>{const r=e[s];r!==void 0&&(t[s]=r)}),t}),B=v(()=>e.optionsDark===null?n.isDark.value:e.optionsDark),D=v(()=>Ct(c.value)),I=v(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||c.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),q=v(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),H=v(()=>j.value===0),_=v(()=>c.value.map(t=>W.value(t)).join(", ")),K=v(()=>e.displayValue!==void 0?e.displayValue:_.value),te=v(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Le=v(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||c.value.some(te.value))),G=v(()=>n.focused.value===!0?e.tabindex:-1),Re=v(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${n.targetUid.value}_lb`};return o.value>=0&&(t["aria-activedescendant"]=`${n.targetUid.value}_${o.value}`),t}),ie=v(()=>({id:`${n.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ue=v(()=>c.value.map((t,s)=>({index:s,opt:t,html:te.value(t),selected:!0,removeAtIndex:jt,toggleOption:re,tabindex:G.value}))),Ee=v(()=>{if(j.value===0)return[];const{from:t,to:s}=Te.value;return e.options.slice(t,s).map((r,b)=>{const P=pe.value(r)===!0,M=Ye(r)===!0,$=t+b,L={clickable:!0,active:M,activeClass:ze.value,manualFocus:!0,focused:!1,disable:P,tabindex:-1,dense:e.optionsDense,dark:B.value,role:"option","aria-selected":M===!0?"true":"false",id:`${n.targetUid.value}_${$}`,onClick:()=>{re(r)}};return P!==!0&&(o.value===$&&(L.focused=!0),g.platform.is.desktop===!0&&(L.onMousemove=()=>{i.value===!0&&ge($)})),{index:$,opt:r,html:te.value(r),label:W.value(r),selected:L.active,focused:L.focused,toggleOption:re,setOptionIndex:ge,itemProps:L}})}),Ie=v(()=>e.dropdownIcon!==void 0?e.dropdownIcon:g.iconSet.arrow.dropdown),je=v(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ze=v(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),J=v(()=>We(e.optionValue,"value")),W=v(()=>We(e.optionLabel,"label")),pe=v(()=>We(e.optionDisable,"disable")),De=v(()=>c.value.map(t=>J.value(t))),Qt=v(()=>{const t={onInput:ht,onChange:Oe,onKeydown:mt,onKeyup:ft,onKeypress:vt,onFocus:ct,onClick(s){z===!0&&we(s)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Oe,t});Ce(c,t=>{x=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&n.innerLoading.value!==!0&&(C.value!==!0&&i.value!==!0||D.value!==!0)&&(S!==!0&&be(),(C.value===!0||i.value===!0)&&he(""))},{immediate:!0}),Ce(()=>e.fillInput,be),Ce(i,Xe),Ce(j,il);function rt(t){return e.emitValue===!0?J.value(t):t}function Ke(t){if(t>-1&&t<c.value.length)if(e.multiple===!0){const s=e.modelValue.slice();u("remove",{index:t,value:s.splice(t,1)[0]}),u("update:modelValue",s)}else u("update:modelValue",null)}function jt(t){Ke(t),n.focus()}function st(t,s){const r=rt(t);if(e.multiple!==!0){e.fillInput===!0&&Fe(W.value(t),!0,!0),u("update:modelValue",r);return}if(c.value.length===0){u("add",{index:0,value:r}),u("update:modelValue",e.multiple===!0?[r]:r);return}if(s===!0&&Ye(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const b=e.modelValue.slice();u("add",{index:b.length,value:r}),b.push(r),u("update:modelValue",b)}function re(t,s){if(n.editable.value!==!0||t===void 0||pe.value(t)===!0)return;const r=J.value(t);if(e.multiple!==!0){s!==!0&&(Fe(e.fillInput===!0?W.value(t):"",!0,!0),se()),E.value!==null&&E.value.focus(),(c.value.length===0||Me(J.value(c.value[0]),r)!==!0)&&u("update:modelValue",e.emitValue===!0?r:t);return}if((z!==!0||k.value===!0)&&n.focus(),ct(),c.value.length===0){const M=e.emitValue===!0?r:t;u("add",{index:0,value:M}),u("update:modelValue",e.multiple===!0?[M]:M);return}const b=e.modelValue.slice(),P=De.value.findIndex(M=>Me(M,r));if(P>-1)u("remove",{index:P,value:b.splice(P,1)[0]});else{if(e.maxValues!==void 0&&b.length>=e.maxValues)return;const M=e.emitValue===!0?r:t;u("add",{index:b.length,value:M}),b.push(M)}u("update:modelValue",b)}function ge(t){if(g.platform.is.desktop!==!0)return;const s=t>-1&&t<j.value?t:-1;o.value!==s&&(o.value=s)}function He(t=1,s){if(i.value===!0){let r=o.value;do r=kt(r+t,-1,j.value-1);while(r!==-1&&r!==o.value&&pe.value(e.options[r])===!0);o.value!==r&&(ge(r),me(r),s!==!0&&e.useInput===!0&&e.fillInput===!0&&$e(r>=0?W.value(e.options[r]):y,!0))}}function Kt(t,s){const r=b=>Me(J.value(b),t);return e.options.find(r)||s.find(r)||t}function We(t,s){const r=t!==void 0?t:s;return typeof r=="function"?r:b=>b!==null&&typeof b=="object"&&r in b?b[r]:b}function Ye(t){const s=J.value(t);return De.value.find(r=>Me(r,s))!==void 0}function ct(t){e.useInput===!0&&E.value!==null&&(t===void 0||E.value===t.target&&t.target.value===_.value)&&E.value.select()}function dt(t){bl(t,27)===!0&&i.value===!0&&(we(t),se(),be()),u("keyup",t)}function ft(t){const{value:s}=t.target;if(t.keyCode!==void 0){dt(t);return}if(t.target.value="",h!==null&&(clearTimeout(h),h=null),w!==null&&(clearTimeout(w),w=null),be(),typeof s=="string"&&s.length!==0){const r=s.toLocaleLowerCase(),b=M=>{const $=e.options.find(L=>M.value(L).toLocaleLowerCase()===r);return $===void 0?!1:(c.value.indexOf($)===-1?re($):se(),!0)},P=M=>{b(J)!==!0&&(b(W)===!0||M===!0||he(s,!0,()=>P(!0)))};P()}else n.clearValue(t)}function vt(t){u("keypress",t)}function mt(t){if(u("keydown",t),wl(t)===!0)return;const s=p.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),r=t.shiftKey!==!0&&e.multiple!==!0&&(o.value>-1||s===!0);if(t.keyCode===27){Je(t);return}if(t.keyCode===9&&r===!1){Se();return}if(t.target===void 0||t.target.id!==n.targetUid.value||n.editable.value!==!0)return;if(t.keyCode===40&&n.innerLoading.value!==!0&&i.value===!1){fe(t),ye();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&p.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ke(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&u("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof p.value!="string"||p.value.length===0)&&(fe(t),o.value=-1,He(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ve.value!==void 0&&(fe(t),o.value=Math.max(-1,Math.min(j.value,o.value+(t.keyCode===33?-1:1)*ve.value.view)),He(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(fe(t),He(t.keyCode===38?-1:1,e.multiple));const b=j.value;if((N===void 0||R<Date.now())&&(N=""),b>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||N.length!==0)){i.value!==!0&&ye(t);const P=t.key.toLocaleLowerCase(),M=N.length===1&&N[0]===P;R=Date.now()+1500,M===!1&&(fe(t),N+=P);const $=new RegExp("^"+N.split("").map(Ge=>ln.indexOf(Ge)>-1?"\\"+Ge:Ge).join(".*"),"i");let L=o.value;if(M===!0||L<0||$.test(W.value(e.options[L]))!==!0)do L=kt(L+1,-1,b-1);while(L!==o.value&&(pe.value(e.options[L])===!0||$.test(W.value(e.options[L]))!==!0));o.value!==L&&le(()=>{ge(L),me(L),L>=0&&e.useInput===!0&&e.fillInput===!0&&$e(W.value(e.options[L]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||N!=="")&&(t.keyCode!==9||r===!1))){if(t.keyCode!==9&&fe(t),o.value>-1&&o.value<b){re(e.options[o.value]);return}if(s===!0){const P=(M,$)=>{if($){if(At($)!==!0)return}else $=e.newValueMode;if(Fe("",e.multiple!==!0,!0),M==null)return;($==="toggle"?re:st)(M,$==="add-unique"),e.multiple!==!0&&(E.value!==null&&E.value.focus(),se())};if(e.onNewValue!==void 0?u("newValue",p.value,P):P(p.value),e.multiple!==!0)return}i.value===!0?Se():n.innerLoading.value!==!0&&ye()}}function pt(){return z===!0?qe.value:ee.value!==null&&ee.value.contentEl!==null?ee.value.contentEl:void 0}function Wt(){return pt()}function Yt(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?ue.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?ue.value.map((t,s)=>f(Xl,{key:"option-"+s,removable:n.editable.value===!0&&pe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:G.value,onRemove(){t.removeAtIndex(s)}},()=>f("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:W.value(t.opt)}))):[f("span",{[Le.value===!0?"innerHTML":"textContent"]:K.value})]}function gt(){if(H.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:p.value}):void 0;const t=l.option!==void 0?l.option:r=>f(Bl,{key:r.index,...r.itemProps},()=>f(Ol,()=>f(Tl,()=>f("span",{[r.html===!0?"innerHTML":"textContent"]:r.label}))));let s=Qe("div",Ee.value.map(t));return l["before-options"]!==void 0&&(s=l["before-options"]().concat(s)),Et(l["after-options"],s)}function Xt(t,s){const r=s===!0?{...Re.value,...n.splitAttrs.attributes.value}:void 0,b={ref:s===!0?E:void 0,key:"i_t",class:I.value,style:e.inputStyle,value:p.value!==void 0?p.value:"",type:"search",...r,id:s===!0?n.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Qt.value};return t!==!0&&z===!0&&(Array.isArray(b.class)===!0?b.class=[...b.class,"no-pointer-events"]:b.class+=" no-pointer-events"),f("input",b)}function ht(t){h!==null&&(clearTimeout(h),h=null),w!==null&&(clearTimeout(w),w=null),!(t&&t.target&&t.target.qComposing===!0)&&($e(t.target.value||""),S=!0,y=p.value,n.focused.value!==!0&&(z!==!0||k.value===!0)&&n.focus(),e.onFilter!==void 0&&(h=setTimeout(()=>{h=null,he(p.value)},e.inputDebounce)))}function $e(t,s){p.value!==t&&(p.value=t,s===!0||e.inputDebounce===0||e.inputDebounce==="0"?u("inputValue",t):w=setTimeout(()=>{w=null,u("inputValue",t)},e.inputDebounce))}function Fe(t,s,r){S=r!==!0,e.useInput===!0&&($e(t,!0),(s===!0||r!==!0)&&(y=t),s!==!0&&he(t))}function he(t,s,r){if(e.onFilter===void 0||s!==!0&&n.focused.value!==!0)return;n.innerLoading.value===!0?u("filterAbort"):(n.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&c.value.length!==0&&S!==!0&&t===W.value(c.value[0])&&(t="");const b=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);a!==null&&clearTimeout(a),a=b,u("filter",t,(P,M)=>{(s===!0||n.focused.value===!0)&&a===b&&(clearTimeout(a),typeof P=="function"&&P(),d.value=!1,le(()=>{n.innerLoading.value=!1,n.editable.value===!0&&(s===!0?i.value===!0&&se():i.value===!0?Xe(!0):i.value=!0),typeof M=="function"&&le(()=>{M(m)}),typeof r=="function"&&le(()=>{r(m)})}))},()=>{n.focused.value===!0&&a===b&&(clearTimeout(a),n.innerLoading.value=!1,d.value=!1),i.value===!0&&(i.value=!1)})}function Gt(){return f(Ll,{ref:ee,class:q.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&H.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:B.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:je.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ie.value,onScrollPassive:xe,onBeforeShow:yt,onBeforeHide:Jt,onShow:Zt},gt)}function Jt(t){bt(t),Se()}function Zt(){Ae()}function el(t){we(t),E.value!==null&&E.value.focus(),k.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function tl(t){we(t),le(()=>{k.value=!1})}function ll(){const t=[f(Wl,{class:`col-auto ${n.fieldClass.value}`,...V.value,for:n.targetUid.value,dark:B.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:p.value.length!==0,...n.splitAttrs.listeners.value,onFocus:el,onBlur:tl},{...l,rawControl:()=>n.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&t.push(f("div",{ref:qe,class:q.value+" scroll",style:e.popupContentStyle,...ie.value,onClick:Je,onScrollPassive:xe},gt())),f(Rt,{ref:ae,modelValue:C.value,position:e.useInput===!0?"top":void 0,transitionShow:O,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:yt,onBeforeHide:nl,onHide:al,onShow:ol},()=>f("div",{class:"q-select__dialog"+(B.value===!0?" q-select__dialog--dark q-dark":"")+(k.value===!0?" q-select__dialog--focused":"")},t))}function nl(t){bt(t),ae.value!==null&&ae.value.__updateRefocusTarget(n.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),n.focused.value=!1}function al(t){se(),n.focused.value===!1&&u("blur",t),be()}function ol(){const t=document.activeElement;(t===null||t.id!==n.targetUid.value)&&E.value!==null&&E.value!==t&&E.value.focus(),Ae()}function Se(){C.value!==!0&&(o.value=-1,i.value===!0&&(i.value=!1),n.focused.value===!1&&(a!==null&&(clearTimeout(a),a=null),n.innerLoading.value===!0&&(u("filterAbort"),n.innerLoading.value=!1,d.value=!1)))}function ye(t){n.editable.value===!0&&(z===!0?(n.onControlFocusin(t),C.value=!0,le(()=>{n.focus()})):n.focus(),e.onFilter!==void 0?he(p.value):(H.value!==!0||l["no-option"]!==void 0)&&(i.value=!0))}function se(){C.value=!1,Se()}function be(){e.useInput===!0&&Fe(e.multiple!==!0&&e.fillInput===!0&&c.value.length!==0&&W.value(c.value[0])||"",!0,!0)}function Xe(t){let s=-1;if(t===!0){if(c.value.length!==0){const r=J.value(c.value[0]);s=e.options.findIndex(b=>Me(J.value(b),r))}X(s)}ge(s)}function il(t,s){i.value===!0&&n.innerLoading.value===!1&&(X(-1,!0),le(()=>{i.value===!0&&n.innerLoading.value===!1&&(t>s?X():Xe(!0))}))}function St(){C.value===!1&&ee.value!==null&&ee.value.updatePosition()}function yt(t){t!==void 0&&we(t),u("popupShow",t),n.hasPopupOpen=!0,n.onControlFocusin(t)}function bt(t){t!==void 0&&we(t),u("popupHide",t),n.hasPopupOpen=!1,n.onControlFocusout(t)}function wt(){z=g.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||H.value===!1:!0),O=g.platform.is.ios===!0&&z===!0&&e.useInput===!0?"fade":e.transitionShow}return hl(wt),Sl(St),wt(),ut(()=>{h!==null&&clearTimeout(h),w!==null&&clearTimeout(w)}),Object.assign(m,{showPopup:ye,hidePopup:se,removeAtIndex:Ke,add:st,toggleOption:re,getOptionIndex:()=>o.value,setOptionIndex:ge,moveOptionSelection:He,filter:he,updateMenuPosition:St,updateInputValue:Fe,isOptionSelected:Ye,getEmittingOptionValue:rt,isOptionDisabled:(...t)=>pe.value.apply(null,t)===!0,getOptionValue:(...t)=>J.value.apply(null,t),getOptionLabel:(...t)=>W.value.apply(null,t)}),Object.assign(n,{innerValue:c,fieldClass:v(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:Be,targetRef:E,hasValue:D,showPopup:ye,floatingLabel:v(()=>e.hideSelected!==!0&&D.value===!0||typeof p.value=="number"||p.value.length!==0||Ct(e.displayValue)),getControlChild:()=>{if(n.editable.value!==!1&&(C.value===!0||H.value!==!0||l["no-option"]!==void 0))return z===!0?ll():Gt();n.hasPopupOpen===!0&&(n.hasPopupOpen=!1)},controlEvents:{onFocusin(t){n.onControlFocusin(t)},onFocusout(t){n.onControlFocusout(t,()=>{be(),Se()})},onClick(t){if(Je(t),z!==!0&&i.value===!0){Se(),E.value!==null&&E.value.focus();return}ye(t)}},getControl:t=>{const s=Yt(),r=t===!0||C.value!==!0||z!==!0;if(e.useInput===!0)s.push(Xt(t,r));else if(n.editable.value===!0){const P=r===!0?Re.value:void 0;s.push(f("input",{ref:r===!0?E:void 0,key:"d_t",class:"q-select__focus-target",id:r===!0?n.targetUid.value:void 0,value:K.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...P,onKeydown:mt,onKeyup:dt,onKeypress:vt})),r===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&s.push(f("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:ft}))}if(oe.value!==void 0&&e.disable!==!0&&De.value.length!==0){const P=De.value.map(M=>f("option",{value:M,selected:!0}));s.push(f("select",{class:"hidden",name:oe.value,multiple:e.multiple},P))}const b=e.useInput===!0||r!==!0?void 0:n.splitAttrs.attributes.value;return f("div",{class:"q-field__native row items-center",...b,...n.splitAttrs.listeners.value},s)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[f(Q,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Ie.value})]:null}),Mt(n)}}),an=ne({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:l,emit:u}){let m=!1,g,i,C=null,o=null,p,k;function d(){g&&g(),g=null,m=!1,C!==null&&(clearTimeout(C),C=null),o!==null&&(clearTimeout(o),o=null),i!==void 0&&i.removeEventListener("transitionend",p),p=null}function h(S,a,y){a!==void 0&&(S.style.height=`${a}px`),S.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,m=!0,g=y}function w(S,a){S.style.overflowY=null,S.style.height=null,S.style.transition=null,d(),a!==k&&u(a)}function x(S,a){let y=0;i=S,m===!0?(d(),y=S.offsetHeight===S.scrollHeight?0:void 0):(k="hide",S.style.overflowY="hidden"),h(S,y,a),C=setTimeout(()=>{C=null,S.style.height=`${S.scrollHeight}px`,p=O=>{o=null,(Object(O)!==O||O.target===S)&&w(S,"show")},S.addEventListener("transitionend",p),o=setTimeout(p,e.duration*1.1)},100)}function z(S,a){let y;i=S,m===!0?d():(k="show",S.style.overflowY="hidden",y=S.scrollHeight),h(S,y,a),C=setTimeout(()=>{C=null,S.style.height=0,p=O=>{o=null,(Object(O)!==O||O.target===S)&&w(S,"hide")},S.addEventListener("transitionend",p),o=setTimeout(p,e.duration*1.1)},100)}return ut(()=>{m===!0&&d()}),()=>f(Cl,{css:!1,appear:e.appear,onEnter:x,onLeave:z},l.default)}}),Nt=ne({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:l}){const{proxy:{$q:u}}=_e(),m=F(null),g=v(()=>e.stepper.modelValue===e.step.name),i=v(()=>{const a=e.step.disable;return a===!0||a===""}),C=v(()=>{const a=e.step.error;return a===!0||a===""}),o=v(()=>{const a=e.step.done;return i.value===!1&&(a===!0||a==="")}),p=v(()=>{const a=e.step.headerNav,y=a===!0||a===""||a===void 0;return i.value===!1&&e.stepper.headerNav&&y}),k=v(()=>e.step.prefix&&(g.value===!1||e.stepper.activeIcon==="none")&&(C.value===!1||e.stepper.errorIcon==="none")&&(o.value===!1||e.stepper.doneIcon==="none")),d=v(()=>{const a=e.step.icon||e.stepper.inactiveIcon;if(g.value===!0){const y=e.step.activeIcon||e.stepper.activeIcon;return y==="none"?a:y||u.iconSet.stepper.active}if(C.value===!0){const y=e.step.errorIcon||e.stepper.errorIcon;return y==="none"?a:y||u.iconSet.stepper.error}if(i.value===!1&&o.value===!0){const y=e.step.doneIcon||e.stepper.doneIcon;return y==="none"?a:y||u.iconSet.stepper.done}return a}),h=v(()=>{const a=C.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(g.value===!0){const y=e.step.activeColor||e.stepper.activeColor||e.step.color;return y!==void 0?y:a}return a!==void 0?a:i.value===!1&&o.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),w=v(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(h.value!==void 0?` text-${h.value}`:"")+(C.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(k.value===!0?"prefix":"icon"):"")+(g.value===!0?" q-stepper__tab--active":"")+(o.value===!0?" q-stepper__tab--done":"")+(p.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(i.value===!0?" q-stepper__tab--disabled":"")),x=v(()=>e.stepper.headerNav!==!0?!1:p.value);function z(){m.value!==null&&m.value.focus(),g.value===!1&&e.goToPanel(e.step.name)}function S(a){a.keyCode===13&&g.value===!1&&e.goToPanel(e.step.name)}return()=>{const a={class:w.value};p.value===!0&&(a.onClick=z,a.onKeyup=S,Object.assign(a,i.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:l.tabindex||0}));const y=[f("div",{class:"q-focus-helper",tabindex:-1,ref:m}),f("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[f("span",{class:"row flex-center"},[k.value===!0?e.step.prefix:f(Q,{name:d.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const O=[f("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&O.push(f("div",{class:"q-stepper__caption"},e.step.caption)),y.push(f("div",{class:"q-stepper__label q-stepper__line relative-position"},O))}return Dt(f("div",a,y),[[Lt,x.value]])}}});function Ut(e){return f("div",{class:"q-stepper__step-content"},[f("div",{class:"q-stepper__step-inner"},Ue(e.default))])}const zt={setup(e,{slots:l}){return()=>Ut(l)}};var at=ne({name:"QStep",props:{...El,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:l,emit:u}){const{proxy:{$q:m}}=_e(),g=Vl(Ht,Ze);if(g===Ze)return console.error("QStep needs to be a child of QStepper"),Ze;const{getCacheWithFn:i}=Rl(),C=F(null),o=v(()=>g.value.modelValue===e.name),p=v(()=>m.platform.is.ios!==!0&&m.platform.is.chrome===!0||o.value!==!0||g.value.vertical!==!0?{}:{onScroll(h){const{target:w}=h;w.scrollTop>0&&(w.scrollTop=0),e.onScroll!==void 0&&u("scroll",h)}}),k=v(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function d(){const h=g.value.vertical;return h===!0&&g.value.keepAlive===!0?f(_l,g.value.keepAliveProps.value,o.value===!0?[f(g.value.needsUniqueKeepAliveWrapper.value===!0?i(k.value,()=>({...zt,name:k.value})):zt,{key:k.value},l.default)]:void 0):h!==!0||o.value===!0?Ut(l):void 0}return()=>f("div",{ref:C,class:"q-stepper__step",role:"tabpanel",...p.value},g.value.vertical===!0?[f(Nt,{stepper:g.value,step:e,goToPanel:g.value.goToPanel}),g.value.animated===!0?f(an,d):d()]:[d()])}}),on=ne({name:"QStepperNavigation",setup(e,{slots:l}){return()=>f("div",{class:"q-stepper__nav"},Ue(l.default))}});const un=/(-\w)/g;function rn(e){const l={};for(const u in e){const m=u.replace(un,g=>g[1].toUpperCase());l[m]=e[u]}return l}var sn=ne({name:"QStepper",props:{...Bt,...Dl,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Hl,setup(e,{slots:l}){const u=_e(),m=Ot(e,u.proxy.$q),{updatePanelsList:g,isValidPanelName:i,updatePanelIndex:C,getPanelContent:o,getPanels:p,panelDirectives:k,goToPanel:d,keepAliveProps:h,needsUniqueKeepAliveWrapper:w}=$l();ql(Ht,v(()=>({goToPanel:d,keepAliveProps:h,needsUniqueKeepAliveWrapper:w,...e})));const x=v(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(m.value===!0?" q-stepper--dark q-dark":"")),z=v(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function S(){const a=Ue(l.message,[]);if(e.vertical===!0){i(e.modelValue)&&C();const y=f("div",{class:"q-stepper__content"},Ue(l.default));return a===void 0?[y]:a.concat(y)}return[f("div",{class:z.value},p().map(y=>{const O=rn(y.props);return f(Nt,{key:O.name,stepper:e,step:O,goToPanel:d})})),a,Tt("div",{class:"q-stepper__content q-panel-parent"},o(),"cont",e.swipeable,()=>k.value)]}return()=>(g(l),f("div",{class:x.value},Et(l.navigation,S())))}});const cn=xl({name:"RegisterPage",components:{Cropper:Nl},data(){return{width:Vt.width,height:Vt.height,step:F(1),password:F(""),isPwd:F(!0),confirm:F(!1),setuju:F(!0),lorem:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",model:F("white"),model_ages:F("adult"),model_strip:F(2),form:{fullname:null,gender:null,ages:null,address:null,email:null,phone:"+62",username:null,password:null,password_confirmation:null},options:{gender:[{label:"Male",value:1},{label:"Female",value:2}],ages:[{label:"Adults",value:"adults"},{label:"Kids (4 - 12 YO)",value:"kids"}]},is_loading:!1,selectedFile:null,profilePath:null,result:{coordinates:null,image:"https://images.pexels.com/photos/4323307/pexels-photo-4323307.jpeg"},image:{src:null,type:"image/jpg",lastModified:null,lastModifiedDate:null,size:null},modal_upload:!1,img:"https://images.pexels.com/photos/4323307/pexels-photo-4323307.jpeg",photo_path:"http://localhost:8000/no-avatar.png",member_id:null}},methods:{handleUpload(){this.$refs.file.click()},cropImage(){const{canvas:e}=this.$refs.cropper.getResult();if(e){const l=new FormData;e.toBlob(u=>{u.lastModified=this.image.lastModified,u.lastModifiedDate=this.image.lastModifiedDate,u.name=this.image.name,u.filename=this.image.name,l.append("picture",u,u.filename),l.append("member_id",this.member_id),this.is_loading=!0,jl(l).then(m=>{this.photo_path=m.photo_path,this.is_loading=!1}).catch(m=>{this.is_loading=!1})},"image/png")}this.modal_upload=!1},uploadImage(e){const{files:l}=e.target;if(l&&l[0]){this.image.src&&URL.revokeObjectURL(this.image.src);const u=URL.createObjectURL(l[0]);this.image={lastModified:l[0].lastModified,lastModifiedDate:l[0].lastModifiedDate,size:l[0].size,name:l[0].name,src:u,type:l[0].type}}this.modal_upload=!0},change({coordinates:e,canvas:l}){},actionNext(){if(this.step==1&&(this.form.fullname===null||this.form.gender===null||this.form.ages===null||this.form.address===null||this.form.email===null||this.form.phone===null)){et.create({message:"There is empty field!",type:"warning",color:"warning",icon:"warning",detail:"Failed!",textColor:"white",actions:[{icon:"close",color:"white",handler:()=>{}}],timeout:5e3});return}if(this.step==2){if(this.form.username===null||this.form.password===null){et.create({message:"There is empty field!",type:"warning",color:"warning",icon:"warning",detail:"Failed!",textColor:"white",actions:[{icon:"close",color:"white",handler:()=>{}}],timeout:5e3});return}if(this.form.password!=this.form.password_confirmation){et.create({message:"Password is not same",type:"warning",color:"warning",icon:"warning",detail:"Failed!",textColor:"white",actions:[{icon:"close",color:"white",handler:()=>{}}],timeout:5e3});return}Al.create({title:"Confirm",message:"Is your data correct?",cancel:!0,persistent:!0}).onOk(()=>{this.is_loading=!0,Kl(this.form).then(e=>{this.member_id=e.data.id,this.$refs.stepper.next()}),this.is_loading=!1}).onCancel(()=>{}).onDismiss(()=>{});return}this.step==3&&this.$router.push({name:"register_success"}),this.$refs.stepper.next()}},unmounted(){this.image.src&&URL.revokeObjectURL(this.image.src)}}),dn={class:"scroll overflow-hidden",style:{width:"100%"}},fn={class:"q-px-sm q-py-md q-gutter-md"},vn={class:"q-pt-md"},mn={class:"q-pt-md"},pn={class:"q-pt-md"},gn={class:"q-pt-lg"},hn={class:"q-pt-lg"},Sn={class:"q-pt-lg"},yn={class:"q-pt-lg"},bn={class:"q-pt-lg"},wn={class:"column items-center"},Cn={key:0,class:"col q-pb-md"},Vn={key:1,class:"col q-pb-md"},_n=["src"],qn={key:0,class:"text-right"},kn={key:1},xn={key:2,align:"center",class:"q-pt-lg"},An=U("a",{href:"/#/auth/login"},"Login",-1);function In(e,l,u,m,g,i){const C=Il("cropper");return Z(),_t(Ul,{class:"flex flex-center"},{default:T(()=>[U("div",dn,[Dt((Z(),ce("div",null,[U("div",fn,[A(sn,{modelValue:e.step,"onUpdate:modelValue":l[12]||(l[12]=o=>e.step=o),ref:"stepper","alternative-labels":"",color:"primary",animated:""},{navigation:T(()=>[A(on,{class:"text-right"},{default:T(()=>[this.is_loading?(Z(),ce("div",qn,[A(qt,{color:"red",size:"3em"})])):(Z(),ce("div",kn,[e.step==2?(Z(),_t(Ne,{key:0,flat:"",color:"primary",onClick:l[11]||(l[11]=o=>e.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):tt("",!0),A(Ne,{onClick:e.actionNext,color:"primary",label:e.step===3?"Finish":"Next"},null,8,["onClick","label"])])),e.step==1?(Z(),ce("div",xn,[U("p",{style:zl(`font-size:${this.width/20}px;`)},[lt("Sudah punya akun? "),An],4)])):tt("",!0)]),_:1})]),default:T(()=>[A(at,{name:1,title:"Biodata",icon:"settings",done:e.step>1},{default:T(()=>[U("div",null,[A(de,{modelValue:e.form.fullname,"onUpdate:modelValue":l[0]||(l[0]=o=>e.form.fullname=o),label:"Fullname"},{append:T(()=>[A(Q,{name:"person"})]),_:1},8,["modelValue"])]),U("div",vn,[A(It,{modelValue:e.form.gender,"onUpdate:modelValue":l[1]||(l[1]=o=>e.form.gender=o),"emit-value":"","map-options":"",options:e.options.gender,label:"Gender"},{append:T(()=>[A(Q,{name:"male"})]),_:1},8,["modelValue","options"])]),U("div",mn,[A(It,{modelValue:e.form.ages,"onUpdate:modelValue":l[2]||(l[2]=o=>e.form.ages=o),"emit-value":"","map-options":"",options:e.options.ages,label:"Ages"},{append:T(()=>[A(Q,{name:"escalator_warning"})]),_:1},8,["modelValue","options"])]),U("div",pn,[A(de,{modelValue:e.form.address,"onUpdate:modelValue":l[3]||(l[3]=o=>e.form.address=o),label:"Address"},{append:T(()=>[A(Q,{name:"home"})]),_:1},8,["modelValue"])]),U("div",gn,[A(de,{modelValue:e.form.email,"onUpdate:modelValue":l[4]||(l[4]=o=>e.form.email=o),type:"email",label:"Email"},{append:T(()=>[A(Q,{name:"email"})]),_:1},8,["modelValue"])]),U("div",hn,[A(de,{modelValue:e.form.phone,"onUpdate:modelValue":l[5]||(l[5]=o=>e.form.phone=o),label:"WA Phone"},{append:T(()=>[A(Q,{name:"phone_iphone"})]),_:1},8,["modelValue"])])]),_:1},8,["done"]),A(at,{name:2,title:"User Login",icon:"person",done:e.step>2},{default:T(()=>[U("div",Sn,[A(de,{modelValue:e.form.username,"onUpdate:modelValue":l[6]||(l[6]=o=>e.form.username=o),label:"Username"},{append:T(()=>[A(Q,{name:"account_circle"})]),_:1},8,["modelValue"])]),U("div",yn,[A(de,{modelValue:e.form.password,"onUpdate:modelValue":l[7]||(l[7]=o=>e.form.password=o),type:"password",label:"Password"},{append:T(()=>[A(Q,{name:"lock"})]),_:1},8,["modelValue"])]),U("div",bn,[A(de,{modelValue:e.form.password_confirmation,"onUpdate:modelValue":l[8]||(l[8]=o=>e.form.password_confirmation=o),type:"password",label:"Password Confirmation"},{append:T(()=>[A(Q,{name:"lock"})]),_:1},8,["modelValue"])])]),_:1},8,["done"]),A(at,{name:3,title:"Photo",icon:"photo"},{default:T(()=>[U("div",wn,[this.is_loading?(Z(),ce("div",Cn,[A(qt,{color:"red",size:"3em"})])):(Z(),ce("div",Vn,[A(Fl,{bordered:"",size:"120px",style:{border:"1px solid #9fdbf5","background-color":"#daedf5"}},{default:T(()=>[e.photo_path!==null?(Z(),ce("img",{key:0,src:e.photo_path},null,8,_n)):tt("",!0)]),_:1})])),A(Ne,{dense:"","no-caps":"",color:"primary",outline:"",type:"file",onClick:l[10]||(l[10]=o=>e.handleUpload())},{default:T(()=>[U("input",{hidden:"",type:"file",ref:"file",onChange:l[9]||(l[9]=o=>e.uploadImage(o)),accept:"image/*"},null,544),lt(" Upload Photo (Optional) ")]),_:1})])]),_:1})]),_:1},8,["modelValue"])])])),[[Ql,e.scrollHandler]])]),A(Rt,{modelValue:e.modal_upload,"onUpdate:modelValue":l[13]||(l[13]=o=>e.modal_upload=o),class:"full-width",persistent:""},{default:T(()=>[A(Ml,{class:"q-py-md full-width"},{default:T(()=>[A(Pl,{class:"q-pt-none text-right"},{default:T(()=>[A(C,{ref:"cropper",class:"cropper",src:e.image.src,"stencil-props":{aspectRatio:1/1}},null,8,["src"]),A(Ne,{onClick:e.cropImage,dense:"","no-caps":"",class:"q-mt-lg",color:"primary",outline:""},{default:T(()=>[lt("Crop image")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Dn=kl(cn,[["render",In]]);export{Dn as default};
