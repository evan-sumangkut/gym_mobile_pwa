import{j as k,g as L,r as S,s as U,u as A,k as v,T as O,l as j,H as J,p as M,I as D,J as G,t as H,m as K,K as W,L as $,G as X,M as Y,N as Z,_ as ee,d as te,O as B,o as ae,c as ne,w as _,b as s,e as R,P as E,R as T,S as oe,U as Q,Q as ie,V as le,W as re}from"./index.8d6b7e74.js";import{Q as se}from"./QPage.9e9ce1aa.js";import{_ as ue}from"./logo.fb833b70.js";const de={ratio:[String,Number]};function ce(e,l){return k(()=>{const u=Number(e.ratio||(l!==void 0?l.value:void 0));return isNaN(u)!==!0&&u>0?{paddingBottom:`${100/u}%`}:null})}const fe=16/9;var me=L({name:"QImg",props:{...de,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:fe},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:l,emit:u}){const C=S(e.initialRatio),m=ce(e,C);let n=null,i=!1;const d=[S(null),S(w())],c=S(0),h=S(!1),y=S(!1),p=k(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),x=k(()=>({width:e.width,height:e.height})),a=k(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),g=k(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));U(()=>b(),q);function b(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function w(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function q(t){n!==null&&(clearTimeout(n),n=null),y.value=!1,t===null?(h.value=!1,d[c.value^1].value=w()):h.value=!0,d[c.value].value=t}function N({target:t}){i!==!0&&(n!==null&&(clearTimeout(n),n=null),C.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,o(t,1))}function o(t,I){i===!0||I===1e3||(t.complete===!0?r(t):n=setTimeout(()=>{n=null,o(t,I+1)},50))}function r(t){i!==!0&&(c.value=c.value^1,d[c.value].value=null,h.value=!1,y.value=!1,u("load",t.currentSrc||t.src))}function f(t){n!==null&&(clearTimeout(n),n=null),h.value=!1,y.value=!0,d[c.value].value=null,d[c.value^1].value=w(),u("error",t)}function P(t){const I=d[t].value,V={key:"img_"+t,class:a.value,style:g.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...I};return c.value===t?(V.class+=" q-img__image--waiting",Object.assign(V,{onLoad:N,onError:f})):V.class+=" q-img__image--loaded",v("div",{class:"q-img__container absolute-full",key:"img"+t},v("img",V))}function F(){return h.value!==!0?v("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},j(l[y.value===!0?"error":"default"])):v("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},l.loading!==void 0?l.loading():e.noSpinner===!0?void 0:[v(J,{color:e.spinnerColor,size:e.spinnerSize})])}return q(b()),A(()=>{i=!0,n!==null&&(clearTimeout(n),n=null)}),()=>{const t=[];return m.value!==null&&t.push(v("div",{key:"filler",style:m.value})),y.value!==!0&&(d[0].value!==null&&t.push(P(0)),d[1].value!==null&&t.push(P(1))),t.push(v(O,{name:"q-transition--fade"},F)),v("div",{class:p.value,style:x.value,role:"img","aria-label":e.alt},t)}}}),ge=L({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:l,emit:u}){const C=K(),m=S(null);let n=0;const i=[];function d(a){const g=typeof a=="boolean"?a:e.noErrorFocus!==!0,b=++n,w=(o,r)=>{u("validation"+(o===!0?"Success":"Error"),r)},q=o=>{const r=o.validate();return typeof r.then=="function"?r.then(f=>({valid:f,comp:o}),f=>({valid:!1,comp:o,err:f})):Promise.resolve({valid:r,comp:o})};return(e.greedy===!0?Promise.all(i.map(q)).then(o=>o.filter(r=>r.valid!==!0)):i.reduce((o,r)=>o.then(()=>q(r).then(f=>{if(f.valid===!1)return Promise.reject(f)})),Promise.resolve()).catch(o=>[o])).then(o=>{if(o===void 0||o.length===0)return b===n&&w(!0),!0;if(b===n){const{comp:r,err:f}=o[0];if(f!==void 0&&console.error(f),w(!1,r),g===!0){const P=o.find(({comp:F})=>typeof F.focus=="function"&&W(F.$)===!1);P!==void 0&&P.comp.focus()}}return!1})}function c(){n++,i.forEach(a=>{typeof a.resetValidation=="function"&&a.resetValidation()})}function h(a){a!==void 0&&$(a);const g=n+1;d().then(b=>{g===n&&b===!0&&(e.onSubmit!==void 0?u("submit",a):a!==void 0&&a.target!==void 0&&typeof a.target.submit=="function"&&a.target.submit())})}function y(a){a!==void 0&&$(a),u("reset"),X(()=>{c(),e.autofocus===!0&&e.noResetFocus!==!0&&p()})}function p(){Y(()=>{if(m.value===null)return;const a=m.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||m.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||m.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(m.value.querySelectorAll("[tabindex]"),g=>g.tabIndex>-1);a!=null&&a.focus({preventScroll:!0})})}M(Z,{bindComponent(a){i.push(a)},unbindComponent(a){const g=i.indexOf(a);g>-1&&i.splice(g,1)}});let x=!1;return D(()=>{x=!0}),G(()=>{x===!0&&e.autofocus===!0&&p()}),H(()=>{e.autofocus===!0&&p()}),Object.assign(C.proxy,{validate:d,resetValidation:c,submit:h,reset:y,focus:p,getValidationComponents:()=>i}),()=>v("form",{class:"q-form",ref:m,onSubmit:h,onReset:y},j(l.default))}});const ve=te({name:"LoginPage",data(){return{showPwd:!1,remember:!0,loading:!1,form:{username:"",password:""}}},methods:{async onLogin(){if(!this.form.username||!this.form.password){B.create({type:"negative",message:"Please fill username and password"});return}this.loading=!0;try{await new Promise(e=>setTimeout(e,1e3)),B.create({type:"positive",message:"Login success!"}),this.$router.push("/home")}finally{this.loading=!1}},onForgot(){B.create({type:"info",message:"Forgot password link sent (demo)"})},onRegister(){B.create({type:"info",message:"Please contact admin to register your account."})}}}),z=e=>(le("data-v-40408ae4"),e=e(),re(),e),he={class:"flex flex-center q-mb-md"},ye=z(()=>R("div",{class:"text-h6 text-center text-white q-pb-lg"}," Grappling Fight Team ",-1)),be={class:"row items-center justify-between"},Se=z(()=>R("div",{class:"text-caption text-grey-5 text-center q-mt-lg"}," Northern BJJ Jakarta Indonesia ",-1));function pe(e,l,u,C,m,n){return ae(),ne(se,{class:"login-bg flex flex-center"},{default:_(()=>[s(ie,{class:"glass-card q-pa-lg"},{default:_(()=>[R("div",he,[s(me,{src:ue,alt:"GFT",style:{width:"140px",height:"auto"}})]),ye,s(ge,{onSubmit:e.onLogin,class:"q-gutter-md"},{default:_(()=>[s(E,{filled:"",dense:"",dark:"",modelValue:e.form.username,"onUpdate:modelValue":l[0]||(l[0]=i=>e.form.username=i),label:"Username or Email","bg-color":"grey-9",color:"white"},{prepend:_(()=>[s(T,{name:"person"})]),_:1},8,["modelValue"]),s(E,{filled:"",dense:"",dark:"",modelValue:e.form.password,"onUpdate:modelValue":l[2]||(l[2]=i=>e.form.password=i),label:"Password",type:e.showPwd?"text":"password","bg-color":"grey-9",color:"white"},{prepend:_(()=>[s(T,{name:"lock"})]),append:_(()=>[s(T,{name:e.showPwd?"visibility":"visibility_off",class:"cursor-pointer",onClick:l[1]||(l[1]=i=>e.showPwd=!e.showPwd)},null,8,["name"])]),_:1},8,["modelValue","type"]),R("div",be,[s(oe,{modelValue:e.remember,"onUpdate:modelValue":l[3]||(l[3]=i=>e.remember=i),color:"primary",label:"Remember me",dense:"",class:"text-grey-4"},null,8,["modelValue"]),s(Q,{flat:"",dense:"","no-caps":"",class:"text-primary",label:"Forgot?",onClick:e.onForgot},null,8,["onClick"])]),s(Q,{type:"submit",label:"Login",color:"primary",class:"full-width q-mt-sm rounded-btn",loading:e.loading},null,8,["loading"]),s(Q,{flat:"",dense:"","no-caps":"",label:"Register",class:"full-width q-mt-sm text-primary",onClick:e.onRegister},null,8,["onClick"])]),_:1},8,["onSubmit"]),Se]),_:1})]),_:1})}var qe=ee(ve,[["render",pe],["__scopeId","data-v-40408ae4"]]);export{qe as default};
