import{_ as w,d as y,at as c,au as b,O as x,o as t,c as d,w as r,b as s,U as h,aw as i,e as a,av as n,am as u,an as p,ae as k,b7 as m,b8 as $}from"./index.12e70fa8.js";import{Q as v,a as S}from"./QHeader.8aa89146.js";import{Q as q}from"./QSkeleton.6e846155.js";import{Q as f}from"./QItem.2282b181.js";import{Q as C}from"./QPage.0d124db9.js";import{S as Q}from"./Scroll.fce96b4d.js";import{b as B,c as N}from"./api.00921f4a.js";import"./QResizeObserver.caae0f58.js";const D=y({name:"ScheduleNowPage",data(){return{width:c.width,height:c.height,is_loading:!1,schedule_now:[]}},methods:{apiGetClassSchedule(){this.is_loading=!0,B().then(e=>{this.is_loading=!1;const l=e.data;this.schedule_now=l})},actionJoinClass(e){b.create({title:"Confirm",message:`Would you join to ${e.class.name} class?`,cancel:!0,persistent:!0}).onOk(()=>{const l={class_schedule_id:e.id};this.is_loading=!0,N(l).then(_=>{x.create({message:"Join Request has been sent",type:"positive",color:"positive",icon:"check",detail:"Success!",actions:[{icon:"close",color:"white",handler:()=>{}}],timeout:5e3}),this.$router.push({name:"profile"})}),this.is_loading=!1}).onCancel(()=>{}).onDismiss(()=>{})}},mounted(){this.apiGetClassSchedule()}}),J={class:"scroll overflow-hidden full-width"},z={key:0},P={key:1},R={class:"row full-height full-width",style:{border:"1px solid blue","border-radius":"25px","background-color":"#5b96f5"}},j={class:"col text-center"},G={class:"column full-height q-px-md"},H={class:"col text-h6"},O={key:0,class:"text-center q-pt-sm q-pb-md"},V={key:1,class:"text-center q-pt-sm q-pb-md"};function A(e,l,_,E,F,I){return t(),d(C,{class:"flex"},{default:r(()=>[s(S,{elevated:"",style:i([{"background-color":"#7e1c27"},`height:${this.height/14}px`])},{default:r(()=>[s(v,{class:"text-h6 full-height"},{default:r(()=>[s(h,{style:i(`font-size:${this.width/20}px`),flat:"",round:"",dense:"",icon:"arrow_back",onClick:l[0]||(l[0]=o=>this.$router.route({name:"profile"})),label:"Back"},null,8,["style"])]),_:1})]),_:1},8,["style"]),a("div",J,[e.is_loading?(t(),n("div",z,[(t(),n(u,null,p(3,o=>s(f,{class:"q-ma-none q-pa-sm",key:o},{default:r(()=>[s(q,{class:"full-width",style:i([`height:${this.height/8}px`,{"border-radius":"20px"}])},null,8,["style"])]),_:2},1024)),64))])):k((t(),n("div",P,[(t(!0),n(u,null,p(e.schedule_now,(o,g)=>(t(),d(f,{class:"q-ma-none q-pa-sm",key:g,style:i(`height:${this.height/6.5}px`)},{default:r(()=>[a("div",R,[a("div",j,[a("div",G,[a("div",H,[a("div",{class:"flex flex-center full-height",style:i([{color:"white"},`font-size:${this.width/22}px`])},m(o.class.name)+" Class at "+m(o.time.substr(0,5)),5)]),s($,{inset:""}),o.is_join?(t(),n("div",O,[s(h,{color:"grey",style:i([{color:"white","font-weight":"bold"},`height:${this.height/21}px;width:${this.width/1.6}px`]),label:"Already Request","icon-right":"check_circle"},null,8,["style"])])):(t(),n("div",V,[s(h,{onClick:L=>e.actionJoinClass(o),color:"secondary",style:i([{color:"white","font-weight":"bold"},`height:${this.height/21}px;width:${this.width/1.6}px`]),label:"Join Request","icon-right":"login"},null,8,["onClick","style"])]))])])])]),_:2},1032,["style"]))),128))])),[[Q,e.scrollHandler]])])]),_:1})}var ee=w(D,[["render",A]]);export{ee as default};
